name: PR Welcome

on:
  pull_request:
    types: [opened]

permissions:
  issues: write
  pull-requests: write

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
      - name: Welcome message
        uses: actions/github-script@v7
        with:
          script: |
            const welcomeMessage = `ðŸŽ‰ **Thanks for opening this pull request!**

            Your contribution is appreciated. Here are some helpful commands you can use:

            ## Available Poe Tasks
            You can run any of these tasks using the slash command: \`/poe <task-name>\`

            ### Core Tasks
            - \`/poe test\` - Run all tests
            - \`/poe test-fast\` - Run tests with fast exit on first failure
            - \`/poe lint\` - Check code style and quality  
            - \`/poe format\` - Format code with ruff
            - \`/poe check\` - Run format check, linting, and tests

            ### Quick Fixes
            - \`/poe fix\` - Auto-format and fix linting issues
            - \`/poe clean\` - Clean up build artifacts and cache

            ### Build & Install
            - \`/poe build\` - Build the package
            - \`/poe install\` - Install with development dependencies

            ### Other Commands
            - \`/poe version\` - Show package version
            - \`/poe pre-commit\` - Run pre-commit style checks

            The CI will automatically run tests when you push commits. Happy coding! ðŸš€`;

            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: welcomeMessage
            });